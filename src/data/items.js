// V2 item definitions — Areas 1-3 (zones 1-30).
// Schema: id, name, description, abbr, slot, rarity, tier, zones, statBonuses, sellValue, mergesInto

import { LOOT_V2 } from '../config.js';

const ITEMS = {
  // ── Area 1 — Common ───────────────────────────────────────────────
  a1_sharpened_stick: {
    id: 'a1_sharpened_stick',
    name: 'Sharpened Stick',
    description: 'Pointy end goes in the enemy.',
    abbr: 'ShSt',
    thumbnail: 'weapon001_sharpstick',
    slot: 'weapon',
    rarity: 'common',
    tier: 1,
    zones: [1, 5],
    statBonuses: { str: 3, def: 0, hp: 0, regen: 0, atkSpeed: 0, atk: 3 },
    sellValue: 5,
    mergesInto: null,
  },
  a1_scavenged_hide_wrap: {
    id: 'a1_scavenged_hide_wrap',
    name: 'Scavenged Hide Wrap',
    description: 'Smells terrible. Stops some bleeding.',
    abbr: 'ScHW',
    slot: 'body',
    rarity: 'common',
    tier: 1,
    zones: [1, 5],
    statBonuses: { str: 0, def: 3, hp: 10, regen: 0, atkSpeed: 0, atk: 0 },
    sellValue: 5,
    mergesInto: null,
    thumbnail: 'armor001_hide',
  },
  a1_bone_fragment_helm: {
    id: 'a1_bone_fragment_helm',
    name: 'Bone Fragment Helm',
    description: 'Held together by hope and sinew.',
    abbr: 'BnFH',
    slot: 'head',
    rarity: 'common',
    tier: 1,
    zones: [1, 5],
    statBonuses: { str: 0, def: 2, hp: 5, regen: 0, atkSpeed: 0, atk: 0 },
    sellValue: 4,
    mergesInto: null,
    thumbnail: 'helm001_bonefragment',
  },

  // ── Area 1 — Uncommon ─────────────────────────────────────────────
  a1_bone_shard_blade: {
    id: 'a1_bone_shard_blade',
    name: 'Bone Shard Blade',
    description: 'Jagged edge. Extra motivation.',
    abbr: 'BnSB',
    slot: 'weapon',
    rarity: 'uncommon',
    tier: 1,
    zones: [1, 5],
    statBonuses: { str: 4, def: 1, hp: 0, regen: 0, atkSpeed: 0, atk: 4 },
    sellValue: 12,
    mergesInto: null,
    thumbnail: 'weapon001_boneshardblade',
  },
  a1_thick_pelt_vest: {
    id: 'a1_thick_pelt_vest',
    name: 'Thick Pelt Vest',
    description: 'Warm. Surprisingly tough.',
    abbr: 'ThPV',
    slot: 'body',
    rarity: 'uncommon',
    tier: 1,
    zones: [1, 5],
    statBonuses: { str: 0, def: 4, hp: 15, regen: 0, atkSpeed: 0, atk: 0 },
    sellValue: 14,
    mergesInto: null,
    thumbnail: 'armor001_pelt',
  },
  a1_hound_skull_cap: {
    id: 'a1_hound_skull_cap',
    name: 'Hound Skull Cap',
    description: 'The previous owner no longer needs it.',
    abbr: 'HdSC',
    slot: 'head',
    rarity: 'uncommon',
    tier: 1,
    zones: [1, 5],
    statBonuses: { str: 0, def: 3, hp: 8, regen: 0, atkSpeed: 0, atk: 0 },
    sellValue: 10,
    mergesInto: null,
    thumbnail: 'helm001_houndskull',
  },

  // ── Area 2 — Common Tier 1 (zones 6-10) ───────────────────────────
  a2_salvaged_cleaver: {
    id: 'a2_salvaged_cleaver',
    name: 'Salvaged Cleaver',
    description: 'Found in a collapsed farmhouse. Nicked but heavy.',
    abbr: 'SvCl',
    slot: 'weapon',
    rarity: 'common',
    tier: 1,
    zones: [6, 10],
    statBonuses: { str: 7, def: 0, hp: 0, regen: 0, atkSpeed: 0, atk: 7 },
    sellValue: 10,
    mergesInto: null,
    thumbnail: 'weapon002_salvagedcleaver',
  },
  a2_patched_leather_vest: {
    id: 'a2_patched_leather_vest',
    name: 'Patched Leather Vest',
    description: 'Cobbled together from hides and old scraps.',
    abbr: 'PtLV',
    slot: 'body',
    rarity: 'common',
    tier: 1,
    zones: [6, 10],
    statBonuses: { str: 0, def: 6, hp: 20, regen: 0, atkSpeed: 0, atk: 0 },
    sellValue: 10,
    mergesInto: null,
    thumbnail: 'armor002_patchedleathervest',
  },
  a2_hardened_leather_hood: {
    id: 'a2_hardened_leather_hood',
    name: 'Hardened Leather Hood',
    description: 'Boiled leather, shaped to fit. Ugly but functional.',
    abbr: 'HdLH',
    slot: 'head',
    rarity: 'common',
    tier: 1,
    zones: [6, 10],
    statBonuses: { str: 0, def: 4, hp: 10, regen: 0, atkSpeed: 0, atk: 0 },
    sellValue: 8,
    mergesInto: null,
    thumbnail: 'helm002_leatherhood',
  },
  a2_stitched_hide_leggings: {
    id: 'a2_stitched_hide_leggings',
    name: 'Stitched Hide Leggings',
    description: 'Finally, something covering your legs.',
    abbr: 'StHL',
    slot: 'legs',
    rarity: 'common',
    tier: 1,
    zones: [6, 10],
    statBonuses: { str: 0, def: 4, hp: 12, regen: 0, atkSpeed: 0, atk: 0 },
    sellValue: 9,
    mergesInto: null,
    thumbnail: 'legs001_stitchedleggings',
  },
  a2_worn_travelers_boots: {
    id: 'a2_worn_travelers_boots',
    name: "Worn Traveler's Boots",
    description: 'Pulled off a long-dead body. They fit.',
    abbr: 'WnTB',
    slot: 'boots',
    rarity: 'common',
    tier: 1,
    zones: [6, 10],
    statBonuses: { str: 0, def: 2, hp: 5, regen: 0, atkSpeed: 0, atk: 0 },
    sellValue: 8,
    mergesInto: null,
    thumbnail: 'boots001_worntravelersboots',
  },

  // ── Area 2 — Common Tier 2 (zones 11-15) ──────────────────────────
  a2_sharpened_cleaver: {
    id: 'a2_sharpened_cleaver',
    name: 'Sharpened Cleaver',
    description: 'Reground edge. Cuts clean now.',
    abbr: 'SpCl',
    slot: 'weapon',
    rarity: 'common',
    tier: 2,
    zones: [11, 15],
    statBonuses: { str: 9, def: 0, hp: 0, regen: 0, atkSpeed: 0, atk: 9 },
    sellValue: 16,
    mergesInto: null,
    thumbnail: 'weapon002_sharpenedvcleaver',
  },
  a2_reinforced_leather_vest: {
    id: 'a2_reinforced_leather_vest',
    name: 'Reinforced Leather Vest',
    description: 'Extra plates stitched in. Heavier, tougher.',
    abbr: 'RnLV',
    slot: 'body',
    rarity: 'common',
    tier: 2,
    zones: [11, 15],
    statBonuses: { str: 0, def: 8, hp: 28, regen: 0, atkSpeed: 0, atk: 0 },
    sellValue: 18,
    mergesInto: null,
    thumbnail: 'armor002_reinforcedleathervest',
  },
  a2_boiled_leather_hood: {
    id: 'a2_boiled_leather_hood',
    name: 'Boiled Leather Hood',
    description: 'Stiff and uncomfortable. Stops things that matter.',
    abbr: 'BlLH',
    slot: 'head',
    rarity: 'common',
    tier: 2,
    zones: [11, 15],
    statBonuses: { str: 0, def: 5, hp: 14, regen: 0, atkSpeed: 0, atk: 0 },
    sellValue: 14,
    mergesInto: null,
    thumbnail: 'helm002_boiledleatherhood',
  },
  a2_thick_hide_leggings: {
    id: 'a2_thick_hide_leggings',
    name: 'Thick Hide Leggings',
    description: 'Layered hides, properly cured.',
    abbr: 'ThHL',
    slot: 'legs',
    rarity: 'common',
    tier: 2,
    zones: [11, 15],
    statBonuses: { str: 0, def: 5, hp: 16, regen: 0, atkSpeed: 0, atk: 0 },
    sellValue: 15,
    mergesInto: null,
    thumbnail: 'legs001_thickhideleggings',
  },
  a2_mended_travelers_boots: {
    id: 'a2_mended_travelers_boots',
    name: "Mended Traveler's Boots",
    description: 'Patched and resoled. Good for another hundred miles.',
    abbr: 'MdTB',
    slot: 'boots',
    rarity: 'common',
    tier: 2,
    zones: [11, 15],
    statBonuses: { str: 0, def: 3, hp: 8, regen: 0, atkSpeed: 0, atk: 0 },
    sellValue: 12,
    mergesInto: null,
    thumbnail: 'boots001_mendedtravelersboots',
  },

  // ── Area 2 — Uncommon (zones 8-15) ────────────────────────────────
  a2_frontier_hatchet: {
    id: 'a2_frontier_hatchet',
    name: 'Frontier Hatchet',
    description: "A woodsman's tool, repurposed.",
    abbr: 'FrHt',
    slot: 'weapon',
    rarity: 'uncommon',
    tier: 2,
    zones: [8, 15],
    statBonuses: { str: 11, def: 0, hp: 0, regen: 0, atkSpeed: 0.05, atk: 11 },
    sellValue: 35,
    mergesInto: null,
    thumbnail: 'weapon002_frontierhatchet',
  },
  a2_rangers_coat: {
    id: 'a2_rangers_coat',
    name: "Ranger's Coat",
    description: 'Found in an abandoned outpost. Someone maintained this.',
    abbr: 'RgCt',
    slot: 'body',
    rarity: 'uncommon',
    tier: 2,
    zones: [8, 15],
    statBonuses: { str: 0, def: 10, hp: 35, regen: 0, atkSpeed: 0, atk: 0 },
    sellValue: 38,
    mergesInto: null,
    thumbnail: 'armor002_rangerscoat',
  },
  a2_scouts_halfhelm: {
    id: 'a2_scouts_halfhelm',
    name: "Scout's Halfhelm",
    description: 'Dented but solid. Has a name scratched inside.',
    abbr: 'ScHH',
    slot: 'head',
    rarity: 'uncommon',
    tier: 2,
    zones: [8, 15],
    statBonuses: { str: 0, def: 7, hp: 18, regen: 0.2, atkSpeed: 0, atk: 0 },
    sellValue: 32,
    mergesInto: null,
    thumbnail: 'helm002_scoutshelfhelm',
  },
  a2_reinforced_trousers: {
    id: 'a2_reinforced_trousers',
    name: 'Reinforced Trousers',
    description: 'Leather panels sewn onto heavy cloth.',
    abbr: 'RnTr',
    slot: 'legs',
    rarity: 'uncommon',
    tier: 2,
    zones: [8, 15],
    statBonuses: { str: 0, def: 7, hp: 22, regen: 0, atkSpeed: 0, atk: 0 },
    sellValue: 30,
    mergesInto: null,
    thumbnail: 'legs001_reinforcedtrousers',
  },
  a2_wayfinder_boots: {
    id: 'a2_wayfinder_boots',
    name: 'Wayfinder Boots',
    description: 'Light, well-made. Whoever owned these could move.',
    abbr: 'WfBt',
    slot: 'boots',
    rarity: 'uncommon',
    tier: 2,
    zones: [8, 15],
    statBonuses: { str: 0, def: 3, hp: 0, regen: 0, atkSpeed: 0.05, atk: 0 },
    sellValue: 28,
    mergesInto: null,
    thumbnail: 'boots001_wayfinderboots',
  },

  // ── Area 3 — Common Tier A (zones 16-20) ──────────────────────────
  a3_reclaimed_shortsword: {
    id: 'a3_reclaimed_shortsword',
    name: 'Reclaimed Shortsword',
    description: 'Found in a stone monument. Old but well-forged.',
    abbr: 'RcSS',
    slot: 'weapon',
    rarity: 'common',
    tier: 3,
    zones: [16, 20],
    statBonuses: { str: 13, def: 0, hp: 0, regen: 0, atkSpeed: 0, atk: 13 },
    sellValue: 22,
    mergesInto: null,
    thumbnail: 'weapon003_reclaimedshortsword',
  },
  a3_road_wardens_hauberk: {
    id: 'a3_road_wardens_hauberk',
    name: "Road Warden's Hauberk",
    description: 'Standard issue for whoever patrolled this road.',
    abbr: 'RdWH',
    slot: 'body',
    rarity: 'common',
    tier: 3,
    zones: [16, 20],
    statBonuses: { str: 0, def: 11, hp: 38, regen: 0, atkSpeed: 0, atk: 0 },
    sellValue: 24,
    mergesInto: null,
    thumbnail: 'armor003_roadwardenshauberk',
  },
  a3_stone_carved_halfhelm: {
    id: 'a3_stone_carved_halfhelm',
    name: 'Stone-carved Halfhelm',
    description: 'Shaped from the same stone as the road markers.',
    abbr: 'StCH',
    slot: 'head',
    rarity: 'common',
    tier: 3,
    zones: [16, 20],
    statBonuses: { str: 0, def: 7, hp: 20, regen: 0, atkSpeed: 0, atk: 0 },
    sellValue: 18,
    mergesInto: null,
    thumbnail: 'helm003_stone-carvedhalfhelm',
  },
  a3_road_wardens_greaves: {
    id: 'a3_road_wardens_greaves',
    name: "Road Warden's Greaves",
    description: 'Matching the hauberk. A uniform, once.',
    abbr: 'RdWG',
    slot: 'legs',
    rarity: 'common',
    tier: 3,
    zones: [16, 20],
    statBonuses: { str: 0, def: 7, hp: 24, regen: 0, atkSpeed: 0, atk: 0 },
    sellValue: 20,
    mergesInto: null,
    thumbnail: 'legs002_roadwardensgreaves',
  },
  a3_ironshod_marching_boots: {
    id: 'a3_ironshod_marching_boots',
    name: 'Ironshod Marching Boots',
    description: 'Built for long travel on hard roads.',
    abbr: 'IsMB',
    slot: 'boots',
    rarity: 'common',
    tier: 3,
    zones: [16, 20],
    statBonuses: { str: 0, def: 4, hp: 10, regen: 0, atkSpeed: 0, atk: 0 },
    sellValue: 16,
    mergesInto: null,
    thumbnail: 'boots002_ironshodmarchingboots',
  },
  a3_scavenged_gauntlets: {
    id: 'a3_scavenged_gauntlets',
    name: 'Scavenged Gauntlets',
    description: 'Mismatched, one leather, one metal.',
    abbr: 'SvGt',
    slot: 'gloves',
    rarity: 'common',
    tier: 3,
    zones: [16, 20],
    statBonuses: { str: 3, def: 3, hp: 0, regen: 0, atkSpeed: 0, atk: 0 },
    sellValue: 16,
    mergesInto: null,
    thumbnail: 'hands001_scavengedgauntlets',
  },

  // ── Area 3 — Common Tier B (zones 21-25) ──────────────────────────
  a3_sentinels_blade: {
    id: 'a3_sentinels_blade',
    name: "Sentinel's Blade",
    description: "From the ruins' garrison. Engraved.",
    abbr: 'SnBl',
    slot: 'weapon',
    rarity: 'common',
    tier: 4,
    zones: [21, 25],
    statBonuses: { str: 17, def: 0, hp: 0, regen: 0, atkSpeed: 0, atk: 17 },
    sellValue: 32,
    mergesInto: null,
    thumbnail: 'weapon003_sentinelsblade',
  },
  a3_sentinel_half_plate: {
    id: 'a3_sentinel_half_plate',
    name: 'Sentinel Half-Plate',
    description: 'Same era as the ruins. Heavy.',
    abbr: 'SnHP',
    slot: 'body',
    rarity: 'common',
    tier: 4,
    zones: [21, 25],
    statBonuses: { str: 0, def: 14, hp: 48, regen: 0, atkSpeed: 0, atk: 0 },
    sellValue: 35,
    mergesInto: null,
    thumbnail: 'armor003_sentinelhalfplate',
  },
  a3_sentinels_visage: {
    id: 'a3_sentinels_visage',
    name: "Sentinel's Visage",
    description: 'Full-face helm. Something shifts when worn.',
    abbr: 'SnVs',
    slot: 'head',
    rarity: 'common',
    tier: 4,
    zones: [21, 25],
    statBonuses: { str: 0, def: 9, hp: 26, regen: 0, atkSpeed: 0, atk: 0 },
    sellValue: 26,
    mergesInto: null,
    thumbnail: 'helm003_sentinelsvisage',
  },
  a3_sentinel_greaves: {
    id: 'a3_sentinel_greaves',
    name: 'Sentinel Greaves',
    description: 'Engraved with the same road marker symbols.',
    abbr: 'SnGr',
    slot: 'legs',
    rarity: 'common',
    tier: 4,
    zones: [21, 25],
    statBonuses: { str: 0, def: 9, hp: 30, regen: 0, atkSpeed: 0, atk: 0 },
    sellValue: 28,
    mergesInto: null,
    thumbnail: 'legs002_sentinelgreaves',
  },
  a3_sentinel_treads: {
    id: 'a3_sentinel_treads',
    name: 'Sentinel Treads',
    description: 'Standard garrison issue.',
    abbr: 'SnTr',
    slot: 'boots',
    rarity: 'common',
    tier: 4,
    zones: [21, 25],
    statBonuses: { str: 0, def: 5, hp: 14, regen: 0, atkSpeed: 0, atk: 0 },
    sellValue: 22,
    mergesInto: null,
    thumbnail: 'boots002_sentineltreads',
  },
  a3_sentinel_gauntlets: {
    id: 'a3_sentinel_gauntlets',
    name: 'Sentinel Gauntlets',
    description: 'Matching the set.',
    abbr: 'SnGt',
    slot: 'gloves',
    rarity: 'common',
    tier: 4,
    zones: [21, 25],
    statBonuses: { str: 5, def: 4, hp: 0, regen: 0, atkSpeed: 0, atk: 0 },
    sellValue: 24,
    mergesInto: null,
    thumbnail: 'hands001_sentinelgauntlets',
  },
  a3_cracked_hearthstone: {
    id: 'a3_cracked_hearthstone',
    name: 'Cracked Hearthstone',
    description: 'A warm stone on a cord. Pulses faintly.',
    abbr: 'CkHs',
    slot: 'amulet',
    rarity: 'common',
    tier: 4,
    zones: [21, 25],
    statBonuses: { str: 0, def: 0, hp: 15, regen: 0.4, atkSpeed: 0, atk: 0 },
    sellValue: 25,
    mergesInto: null,
    thumbnail: 'amulet001_crackedhearthstone',
  },

  // ── Area 3 — Common Tier C (zones 26-30) ──────────────────────────
  a3_keepers_longsword: {
    id: 'a3_keepers_longsword',
    name: "Keeper's Longsword",
    description: 'Elegant, functional. Made to endure.',
    abbr: 'KpLS',
    slot: 'weapon',
    rarity: 'common',
    tier: 5,
    zones: [26, 30],
    statBonuses: { str: 22, def: 0, hp: 0, regen: 0, atkSpeed: 0, atk: 22 },
    sellValue: 45,
    mergesInto: null,
  },
  a3_keepers_wardplate: {
    id: 'a3_keepers_wardplate',
    name: "Keeper's Wardplate",
    description: "Ornamental but strong. A leader's armor.",
    abbr: 'KpWP',
    slot: 'body',
    rarity: 'common',
    tier: 5,
    zones: [26, 30],
    statBonuses: { str: 0, def: 18, hp: 60, regen: 0, atkSpeed: 0, atk: 0 },
    sellValue: 50,
    mergesInto: null,
  },
  a3_keepers_crown: {
    id: 'a3_keepers_crown',
    name: "Keeper's Crown",
    description: 'Not a crown exactly — a circlet of stone and metal.',
    abbr: 'KpCr',
    slot: 'head',
    rarity: 'common',
    tier: 5,
    zones: [26, 30],
    statBonuses: { str: 0, def: 11, hp: 32, regen: 0.3, atkSpeed: 0, atk: 0 },
    sellValue: 38,
    mergesInto: null,
  },
  a3_keepers_legguards: {
    id: 'a3_keepers_legguards',
    name: "Keeper's Legguards",
    description: 'Matching the wardplate.',
    abbr: 'KpLG',
    slot: 'legs',
    rarity: 'common',
    tier: 5,
    zones: [26, 30],
    statBonuses: { str: 0, def: 12, hp: 36, regen: 0, atkSpeed: 0, atk: 0 },
    sellValue: 40,
    mergesInto: null,
  },
  a3_keepers_stride: {
    id: 'a3_keepers_stride',
    name: "Keeper's Stride",
    description: 'Silent on stone. Good for halls.',
    abbr: 'KpSd',
    slot: 'boots',
    rarity: 'common',
    tier: 5,
    zones: [26, 30],
    statBonuses: { str: 0, def: 6, hp: 18, regen: 0, atkSpeed: 0, atk: 0 },
    sellValue: 30,
    mergesInto: null,
  },
  a3_keepers_grip: {
    id: 'a3_keepers_grip',
    name: "Keeper's Grip",
    description: 'They tighten when you grip a weapon.',
    abbr: 'KpGr',
    slot: 'gloves',
    rarity: 'common',
    tier: 5,
    zones: [26, 30],
    statBonuses: { str: 7, def: 5, hp: 0, regen: 0, atkSpeed: 0, atk: 0 },
    sellValue: 35,
    mergesInto: null,
  },
  a3_warm_hearthstone: {
    id: 'a3_warm_hearthstone',
    name: 'Warm Hearthstone',
    description: 'The warmth is stronger. It flares near the blight.',
    abbr: 'WmHs',
    slot: 'amulet',
    rarity: 'common',
    tier: 5,
    zones: [26, 30],
    statBonuses: { str: 0, def: 0, hp: 25, regen: 0.6, atkSpeed: 0, atk: 0 },
    sellValue: 38,
    mergesInto: null,
  },

  // ── Area 3 — Uncommon ─────────────────────────────────────────────
  a3_wardens_oath: {
    id: 'a3_wardens_oath',
    name: "Warden's Oath",
    description: 'A blade that remembers its purpose.',
    abbr: 'WdOt',
    slot: 'weapon',
    rarity: 'uncommon',
    tier: 5,
    zones: [22, 30],
    statBonuses: { str: 26, def: 6, hp: 0, regen: 0, atkSpeed: 0, atk: 26 },
    sellValue: 80,
    mergesInto: null,
    thumbnail: 'weapon003_wardensoath',
  },
  a3_ancient_sentinel_plate: {
    id: 'a3_ancient_sentinel_plate',
    name: 'Ancient Sentinel Plate',
    description: 'Centuries old. Still holds.',
    abbr: 'AnSP',
    slot: 'body',
    rarity: 'uncommon',
    tier: 5,
    zones: [24, 30],
    statBonuses: { str: 0, def: 20, hp: 70, regen: 0, atkSpeed: 0, atk: 0 },
    sellValue: 85,
    mergesInto: null,
    thumbnail: 'armor003_ancientsentinelplate',
  },
  a3_visage_of_the_first: {
    id: 'a3_visage_of_the_first',
    name: 'Visage of the First',
    description: 'The face of someone who built this place.',
    abbr: 'VgFr',
    slot: 'head',
    rarity: 'uncommon',
    tier: 5,
    zones: [26, 30],
    statBonuses: { str: 0, def: 13, hp: 35, regen: 0.5, atkSpeed: 0, atk: 0 },
    sellValue: 70,
    mergesInto: null,
  },
  a3_stoneguard_legplates: {
    id: 'a3_stoneguard_legplates',
    name: 'Stoneguard Legplates',
    description: 'Stone reinforcements that move like cloth.',
    abbr: 'SgLP',
    slot: 'legs',
    rarity: 'uncommon',
    tier: 5,
    zones: [24, 30],
    statBonuses: { str: 0, def: 14, hp: 40, regen: 0, atkSpeed: 0, atk: 0 },
    sellValue: 72,
    mergesInto: null,
  },
  a3_pathfinders_stride: {
    id: 'a3_pathfinders_stride',
    name: "Pathfinder's Stride",
    description: 'They want to move. Quick and certain.',
    abbr: 'PfSd',
    slot: 'boots',
    rarity: 'uncommon',
    tier: 5,
    zones: [20, 30],
    statBonuses: { str: 0, def: 7, hp: 0, regen: 0, atkSpeed: 0.08, atk: 0 },
    sellValue: 55,
    mergesInto: null,
    thumbnail: 'boots002_pathfindersstride',
  },
  a3_irongrip_gauntlets: {
    id: 'a3_irongrip_gauntlets',
    name: 'Irongrip Gauntlets',
    description: "Grip strength you didn't earn.",
    abbr: 'IgGt',
    slot: 'gloves',
    rarity: 'uncommon',
    tier: 5,
    zones: [22, 30],
    statBonuses: { str: 9, def: 6, hp: 0, regen: 0, atkSpeed: 0, atk: 0 },
    sellValue: 65,
    mergesInto: null,
    thumbnail: 'hands001_irongripgauntlets',
  },
  a3_heartstone_pendant: {
    id: 'a3_heartstone_pendant',
    name: 'Heartstone Pendant',
    description: 'It beats like a heart. Warm against the corruption.',
    abbr: 'HsPn',
    slot: 'amulet',
    rarity: 'uncommon',
    tier: 5,
    zones: [26, 30],
    statBonuses: { str: 0, def: 3, hp: 35, regen: 0.8, atkSpeed: 0, atk: 0 },
    sellValue: 75,
    mergesInto: null,
  },
};

export function getItem(id) {
  // Support both 'a1_sharpened_stick' and 'a1_sharpened_stick::common' stack key formats
  const baseId = id && id.includes('::') ? id.split('::')[0] : id;
  return ITEMS[baseId] ?? null;
}

/**
 * Return an item with stat bonuses and sell value scaled by rarity.
 * Accepts a stack key ('a1_bone_shard_blade::uncommon') or separate (id, rarity) args.
 */
export function getScaledItem(id, rarity) {
  const item = getItem(id);
  if (!item) return null;

  // If rarity not provided, try to extract from composite key
  if (!rarity && id && id.includes('::')) {
    rarity = id.split('::')[1];
  }
  rarity = rarity || item.rarity;

  const mult = LOOT_V2.rarityMultiplier[rarity] ?? 1;
  if (mult === 1) return item;

  return {
    ...item,
    rarity,
    statBonuses: Object.fromEntries(
      Object.entries(item.statBonuses).map(([k, v]) => [k, Math.floor(v * mult)])
    ),
    sellValue: Math.floor(item.sellValue * mult),
  };
}

export function getItemsForSlot(slot) {
  return Object.values(ITEMS).filter(item => item.slot === slot);
}

export function getItemsForZone(globalZone) {
  return Object.values(ITEMS).filter(
    item => globalZone >= item.zones[0] && globalZone <= item.zones[1]
  );
}

export { ITEMS };
